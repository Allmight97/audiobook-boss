<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Audiobook Boss</title>
		<link rel="stylesheet" href="src/styles.css" />
		<script src="https://cdn.tailwindcss.com"></script>
		<script>
			tailwind.config = {
				theme: {
					extend: {
						fontFamily: {
							sans: ["Inter", "sans-serif"],
						},
					},
				},
			};
		</script>
	</head>
	<body class="p-0">
		<script type="module" src="/src/main.ts"></script>
		<h1
			class="text-2xl font-bold p-4 text-center text-gray-800 bg-white border-b border-gray-200"
		>
			Audiobook Boss
		</h1>

		<div class="main-container">
			<div class="panel input-panel">
				<h2 class="text-lg font-semibold mb-3 text-gray-700">
					Input Audio Files
				</h2>
				<div class="drag-drop-area mb-4">
					<p class="text-gray-500 text-sm">
						Drag & Drop files here or Click to Select
					</p>
					<p class="text-xs text-gray-400 mt-1">
						Supports: mp3, m4a, m4b, aac
					</p>
				</div>
				<h3 class="text-md font-medium mb-1 text-gray-600">File Order:</h3>
				<div class="file-list-placeholder mb-4">
					File List Area (Drag to Reorder)
				</div>

				<div class="pt-4 border-t border-gray-200 mt-auto">
					<h3 class="text-md font-medium mb-2 text-gray-600">
						Selected File Properties
					</h3>
					<div class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm mb-2">
						<span class="property-label">Bitrate:</span
						><span class="property-value" id="prop-bitrate">--- kbps</span>
						<span class="property-label">Sample Rate:</span
						><span class="property-value" id="prop-samplerate">--- Hz</span>
						<span class="property-label">Channels:</span
						><span class="property-value" id="prop-channels">---</span>
						<span class="property-label">File Size:</span
						><span class="property-value" id="prop-filesize">--- MB</span>
						<span class="property-label">Combined Size:</span
						><span class="property-value" id="prop-combinedsize">--- MB</span>
					</div>
					<p class="text-xs text-gray-500 italic">
						(Properties shown for single selected file. Combined size shows
						total.)
					</p>
				</div>

				<div class="mt-4 pt-4 border-t border-gray-200 opacity-50">
					<h3 class="text-md font-medium mb-1 text-gray-600">
						Folder Monitoring (Future)
					</h3>
					<div class="text-sm text-gray-500 mb-2">Monitored Folder: N/A</div>
					<button class="button-secondary text-sm w-full" disabled>
						Change Watched Folder
					</button>
				</div>
			</div>

			<div class="panel metadata-output-panel">
				<h2 class="text-lg font-semibold mb-3 text-gray-700">
					Metadata & Output
				</h2>
				<div class="grid grid-cols-3 gap-x-4 mb-4">
					<div class="col-span-1 flex flex-col">
						<label
							for="load-cover-art"
							class="block text-sm font-medium text-gray-700 mb-1"
							>Cover Art</label
						>
						<div class="cover-art-area mb-2">
							<div class="placeholder-text">Drag Image Here</div>
							<img
								src=""
								alt="Book Cover Art"
								id="cover-art-img"
								class="hidden"
							/>
							</div>
						<button id="load-cover-art" class="button-secondary text-sm w-full">
							Load Cover Art
						</button>
					</div>
					<div class="col-span-2">
						<div class="grid grid-cols-2 gap-x-4 gap-y-3">
							<div>
								<label for="meta-title">Title</label>
								<input type="text" id="meta-title" placeholder="Book Title" />
							</div>
							<div>
								<label for="meta-author">Author (ALBUMARTIST)</label>
								<input type="text" id="meta-author" placeholder="Author Name" />
							</div>
							<div>
								<label for="meta-album">Album (ALBUM)</label>
								<input
									type="text"
									id="meta-album"
									placeholder="Usually Same as Title"
								/>
							</div>
							<div>
								<label for="meta-narrator">Narrator (STYLE)</label>
								<input
									type="text"
									id="meta-narrator"
									placeholder="Narrator Name"
								/>
							</div>
							<div>
								<label for="meta-year">Year (YYYY)</label>
								<input type="text" id="meta-year" placeholder="Year" />
							</div>
							<div>
								<label for="meta-genre">Genre(s) (semicolon sep.)</label>
								<input
									type="text"
									id="meta-genre"
									placeholder="Fiction; Thriller"
								/>
							</div>
							<div>
								<label for="meta-series">Series (MOOD)</label>
								<input type="text" id="meta-series" placeholder="Series Name" />
							</div>
							<div>
								<label for="meta-series-pos">Series Pos. (TRACK)</label>
								<input
									type="text"
									id="meta-series-pos"
									placeholder="e.g., 1 or 01"
								/>
							</div>
							<div class="col-span-2">
								<label for="meta-series-sort">Series Sort (ALBUMSORT)</label>
								<input
									type="text"
									id="meta-series-sort"
									placeholder="e.g., Series Name 01"
								/>
							</div>
						</div>
						<div class="mt-3">
							<label for="meta-description">Description (COMMENT)</label>
							<textarea
								id="meta-description"
								rows="4"
								placeholder="Enter book description..."
							></textarea>
						</div>
					</div>
				</div>

				<h3
					class="text-md font-medium mb-2 text-gray-600 pt-4 border-t border-gray-200"
				>
					Output Settings
				</h3>
				<div class="grid grid-cols-3 gap-x-4 mb-4">
					<div>
						<label for="output-bitrate">Bitrate (kbps)</label>
						<select id="output-bitrate">
							<option value="32">32</option>
							<option value="48">48</option>
							<option value="56">56</option>
							<option value="64" selected>64 (Default)</option>
							<option value="96">96</option>
							<option value="128">128</option>
						</select>
						<p class="text-xs text-gray-500 mt-1 italic">
							Re-encodes only if source > 64k, unless explicitly selected.
						</p>
					</div>
					<div>
						<label for="output-samplerate">Sample Rate (Hz)</label>
						<select id="output-samplerate">
							<option value="auto" selected>Auto (Pass-through)</option>
							<option value="22050">22050</option>
							<option value="32000">32000</option>
							<option value="44100">44100</option>
							<option value="48000">48000</option>
						</select>
						<p class="text-xs text-gray-500 mt-1 italic">
							Resamples only if specific value selected.
						</p>
					</div>
					<div>
						<label for="output-channels">Channels</label>
						<select id="output-channels">
							<option value="mono" selected>Mono (Default)</option>
							<option value="stereo">Stereo</option>
						</select>
					</div>
				</div>
				<div class="mb-4">
					<label for="output-dir-text">Output Directory</label>
					<div class="output-dir-flex">
						<input
							type="text"
							id="output-dir-text"
							placeholder="/path/to/calculated/output/location"
							readonly
						/>
						<button id="output-dir-browse" class="button-secondary">
							Browse...
						</button>
					</div>
					<label for="output-subdir-pattern" class="checkbox-label">
						<input type="checkbox" id="output-subdir-pattern" checked />
						Use Default Subdirectory Pattern ([Author]/[Series]/[Year-Title]/)
					</label>
				</div>

				<div class="mb-4">
					<label class="block text-sm font-medium text-gray-700 mb-1"
						>Output Filename Pattern</label
					>
					<div class="radio-group">
						<label>
							<input
								type="radio"
								name="filename_pattern"
								value="title_year"
								checked
							/>
							Book Title (Year).m4b
						</label>
						<label>
							<input
								type="radio"
								name="filename_pattern"
								value="author_title"
							/>
							Author - Book Title.m4b
						</label>
					</div>
				</div>

				<div class="pt-4 border-t border-gray-200 text-sm mb-4">
					<span class="property-label">Estimated Output Size: </span>
					<span class="property-value" id="output-estimated-size">~ --- MB</span>
				</div>

				<div class="mt-auto pt-4 border-t border-gray-200 flex justify-end">
					<button id="preview-button" class="button-secondary">
						Preview (30s)
					</button>
				</div>
			</div>
		</div>

		<div class="panel status-panel">
			<div class="status-panel-content">
				<div class="art-thumbnail">
					<span>Art</span>
				</div>
				<div class="progress-details">
					<div class="flex justify-between mb-1">
						<span class="text-sm font-medium text-gray-700">
							Progress:
							<span id="hours-processed" class="property-value"
								>--.-- / --.-- hours</span
							>
							(<span id="percentage-processed" class="property-value"
								>--%</span
							>)
						</span>
						<span
							id="status-text"
							class="text-sm font-medium text-gray-700 font-semibold"
							>Idle</span
						>
					</div>
					<div class="progress-bar-bg">
						<div id="progress-bar" class="progress-bar-fg" style="width: 0%"></div>
					</div>
					<div id="step-text" class="text-xs text-gray-500 mt-1">
						Current Step: Waiting for files...
					</div>
				</div>
				<div class="flex-shrink-0">
					<button id="process-button" class="button-primary">
						Process Audiobook
					</button>
					</div>
			</div>
		</div>
	</body>
</html>